<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapico Backend Test Sonuçları</title>
    <link href="dashboard.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header class="header text-center">
            <h1><i class="fas fa-vial"></i> Mapico Backend Test Sonuçları</h1>
            <p class="lead">Test Sonuçları ve Kod Kapsam Analizi</p>
        </header>
        
    <div class="summary-row">
        <div class="summary-card">
            <i class="fas fa-check-circle status-success fa-2x"></i>
            <h3>90</h3>
            <p>Başarılı</p>
        </div>
        <div class="summary-card">
            <i class="fas fa-times-circle status-failed fa-2x"></i>
            <h3>0</h3>
            <p>Başarısız</p>
        </div>
        <div class="summary-card">
            <i class="fas fa-forward status-skipped fa-2x"></i>
            <h3>0</h3>
            <p>Atlanan</p>
        </div>
        <div class="summary-card">
            <i class="fas fa-list-ol fa-2x" style="color:#17a2b8;"></i>
            <h3>90</h3>
            <p>Toplam Test</p>
        </div>
    </div>
    
        <section id="categories">
            <div class="test-category" id="auth-category">
                
        <div class="category-summary">
            <h3><i class="fas fa-lock"></i> Kimlik Doğrulama Testleri</h3>
            <div class="category-stats">
                <span class="stat-item">Toplam: 14</span>
                <span class="stat-item status-success">Başarılı: 14</span>
                <span class="stat-item status-failed">Başarısız: 0</span>
                <span class="stat-item status-skipped">Atlanan: 0</span>
            </div>
        </div>
        
                
            <div class="test-item" id="auth-test-0">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_register_success</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_auth_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_register_success</p>
                        <p><strong>Dosya:</strong> integration\test_auth_routes.py</p>
                        <p><strong>Açıklama:</strong> Başarılı bir kullanıcı kaydını test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_register_success(client: TestClient):
    """
    Başarılı bir kullanıcı kaydını test eder
    """
    user_data = {
        "email": "newuser@example.com",
        "password": "Test1234!",
        "full_name": "New Test User",
        "date_of_birth": "2000-01-01"
    }
    
    response = client.post("/api/v1/auth/register", json=user_data)
    
    assert response.status_code == status.HTTP_201_CREATED
    data = response.json()
    assert data["email"] == user_data["email"]
    assert data["full_name"] == user_data["full_name"]
    assert "id" in data
    assert "password" not in data  # Şifre yanıtta olmamalı
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="auth-test-1">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_register_duplicate_email</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_auth_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_register_duplicate_email</p>
                        <p><strong>Dosya:</strong> integration\test_auth_routes.py</p>
                        <p><strong>Açıklama:</strong> Var olan bir e-posta ile kayıt olmayı dener ve hatayı doğrular</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_register_duplicate_email(client: TestClient, test_user):
    """
    Var olan bir e-posta ile kayıt olmayı dener ve hatayı doğrular
    """
    user_data = {
        "email": test_user.email,  # Zaten kayıtlı olan e-posta
        "password": "AnotherPassword123!",
        "full_name": "Duplicate Email User",
        "date_of_birth": "2000-01-01"
    }
    
    response = client.post("/api/v1/auth/register", json=user_data)
    
    assert response.status_code == status.HTTP_400_BAD_REQUEST
    assert "detail" in response.json()
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="auth-test-2">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_login_success</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_auth_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_login_success</p>
                        <p><strong>Dosya:</strong> integration\test_auth_routes.py</p>
                        <p><strong>Açıklama:</strong> Başarılı bir giriş işlemini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_login_success(client: TestClient, test_user):
    """
    Başarılı bir giriş işlemini test eder
    """
    login_data = {
        "username": test_user.email,
        "password": "Test1234!"
    }
    
    response = client.post("/api/v1/auth/login", data=login_data)
    
    assert response.status_code == status.HTTP_200_OK
    data = response.json()
    assert "access_token" in data
    assert data["token_type"] == "bearer"
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="auth-test-3">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_login_wrong_password</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_auth_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_login_wrong_password</p>
                        <p><strong>Dosya:</strong> integration\test_auth_routes.py</p>
                        <p><strong>Açıklama:</strong> Yanlış şifreyle giriş yapmayı dener ve hatayı doğrular</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_login_wrong_password(client: TestClient, test_user):
    """
    Yanlış şifreyle giriş yapmayı dener ve hatayı doğrular
    """
    login_data = {
        "username": test_user.email,
        "password": "WrongPassword123!"
    }
    
    response = client.post("/api/v1/auth/login", data=login_data)
    
    assert response.status_code == status.HTTP_401_UNAUTHORIZED
    assert "detail" in response.json()
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="auth-test-4">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_login_nonexistent_user</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_auth_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_login_nonexistent_user</p>
                        <p><strong>Dosya:</strong> integration\test_auth_routes.py</p>
                        <p><strong>Açıklama:</strong> Var olmayan bir kullanıcıyla giriş yapmayı dener</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_login_nonexistent_user(client: TestClient):
    """
    Var olmayan bir kullanıcıyla giriş yapmayı dener
    """
    login_data = {
        "username": "nonexistent@example.com",
        "password": "SomePassword123!"
    }
    
    response = client.post("/api/v1/auth/login", data=login_data)
    
    assert response.status_code == status.HTTP_401_UNAUTHORIZED
    assert "detail" in response.json()
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="auth-test-5">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_me_endpoint</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_auth_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_me_endpoint</p>
                        <p><strong>Dosya:</strong> integration\test_auth_routes.py</p>
                        <p><strong>Açıklama:</strong> /me endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_me_endpoint(client: TestClient, auth_headers):
    """
    /me endpoint'ini test eder
    """
    response = client.get("/api/v1/auth/me", headers=auth_headers)
    
    assert response.status_code == status.HTTP_200_OK
    data = response.json()
    assert "id" in data
    assert "email" in data
    assert "full_name" in data
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="auth-test-6">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_me_unauthorized</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_auth_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_me_unauthorized</p>
                        <p><strong>Dosya:</strong> integration\test_auth_routes.py</p>
                        <p><strong>Açıklama:</strong> Token olmadan /me endpoint'ine erişmeyi dener</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_me_unauthorized(client: TestClient):
    """
    Token olmadan /me endpoint'ine erişmeyi dener
    """
    response = client.get("/api/v1/auth/me")
    
    assert response.status_code == status.HTTP_401_UNAUTHORIZED
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="auth-test-7">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_update_me</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_auth_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_update_me</p>
                        <p><strong>Dosya:</strong> integration\test_auth_routes.py</p>
                        <p><strong>Açıklama:</strong> Kullanıcı bilgilerini güncellemeyi test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_update_me(client: TestClient, auth_headers):
    """
    Kullanıcı bilgilerini güncellemeyi test eder
    """
    update_data = {
        "full_name": "Updated Test User"
    }
    
    response = client.put("/api/v1/auth/me", json=update_data, headers=auth_headers)
    
    assert response.status_code == status.HTTP_200_OK
    data = response.json()
    assert data["full_name"] == update_data["full_name"]
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="auth-test-8">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_logout</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_auth_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_logout</p>
                        <p><strong>Dosya:</strong> integration\test_auth_routes.py</p>
                        <p><strong>Açıklama:</strong> Logout işlemini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_logout(client: TestClient, auth_headers):
    """
    Logout işlemini test eder
    """
    # Önce logout yap
    logout_response = client.post("/api/v1/auth/logout", headers=auth_headers)
    assert logout_response.status_code == status.HTTP_204_NO_CONTENT
    
    # Aynı token ile /me endpoint'ine erişmeyi dene
    me_response = client.get("/api/v1/auth/me", headers=auth_headers)
    assert me_response.status_code == status.HTTP_401_UNAUTHORIZED </pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="auth-test-9">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_password_hash_and_verify</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_auth_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_password_hash_and_verify</p>
                        <p><strong>Dosya:</strong> unit\test_auth_service.py</p>
                        <p><strong>Açıklama:</strong> Şifre hashleme ve doğrulama işlevlerini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_password_hash_and_verify():
    """
    Şifre hashleme ve doğrulama işlevlerini test eder
    """
    password = "test_password"
    hashed = get_password_hash(password)
    
    # Hash farklı olmalı
    assert hashed != password
    
    # Doğrulama başarılı olmalı
    assert verify_password(password, hashed) == True
    
    # Yanlış şifre doğrulanmamalı
    assert verify_password("wrong_password", hashed) == False
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="auth-test-10">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_user</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_auth_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_user</p>
                        <p><strong>Dosya:</strong> unit\test_auth_service.py</p>
                        <p><strong>Açıklama:</strong> Kullanıcı oluşturma işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_user(test_db: Session):
    """
    Kullanıcı oluşturma işlevini test eder
    """
    user_data = UserCreate(
        email="testcreate@example.com",
        password="Test1234!",
        full_name="Test Create User",
        date_of_birth=date(2000, 1, 1)
    )
    
    user = create_user(test_db, user_data)
    
    # Kullanıcı doğru şekilde oluşturuldu mu?
    assert user.email == user_data.email
    assert user.full_name == user_data.full_name
    assert user.date_of_birth == user_data.date_of_birth
    # Şifre hashlenmiş olmalı
    assert user.hashed_password != user_data.password
    
    # Veritabanından tekrar çekip kontrol edelim
    db_user = test_db.query(user.__class__).filter_by(id=user.id).first()
    assert db_user is not None
    assert db_user.email == user_data.email
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="auth-test-11">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_duplicate_user_raises_error</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_auth_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_duplicate_user_raises_error</p>
                        <p><strong>Dosya:</strong> unit\test_auth_service.py</p>
                        <p><strong>Açıklama:</strong> Aynı e-posta ile ikinci bir kullanıcı oluşturmanın hata vermesini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_duplicate_user_raises_error(test_db: Session):
    """
    Aynı e-posta ile ikinci bir kullanıcı oluşturmanın hata vermesini test eder
    """
    user_data = UserCreate(
        email="testduplicate@example.com",
        password="Test1234!",
        full_name="Test Duplicate User",
        date_of_birth=date(2000, 1, 1)
    )
    
    # İlk kullanıcıyı oluştur
    create_user(test_db, user_data)
    
    # Aynı e-posta ile ikinci bir kullanıcı oluşturmak hata vermeli
    with pytest.raises(ValueError):
        create_user(test_db, user_data)
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="auth-test-12">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_authenticate_user</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_auth_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_authenticate_user</p>
                        <p><strong>Dosya:</strong> unit\test_auth_service.py</p>
                        <p><strong>Açıklama:</strong> Kullanıcı kimlik doğrulama işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_authenticate_user(test_db: Session):
    """
    Kullanıcı kimlik doğrulama işlevini test eder
    """
    user_data = UserCreate(
        email="testauth@example.com",
        password="Test1234!",
        full_name="Test Auth User",
        date_of_birth=date(2000, 1, 1)
    )
    
    # Kullanıcı oluştur
    create_user(test_db, user_data)
    
    # Doğru kimlik bilgileriyle doğrulama
    authenticated_user = authenticate_user(test_db, user_data.email, user_data.password)
    assert authenticated_user is not None
    assert authenticated_user.email == user_data.email
    
    # Yanlış şifreyle doğrulama
    wrong_auth_user = authenticate_user(test_db, user_data.email, "wrong_password")
    assert wrong_auth_user is None
    
    # Var olmayan kullanıcıyla doğrulama
    nonexistent_user = authenticate_user(test_db, "nonexistent@example.com", user_data.password)
    assert nonexistent_user is None
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="auth-test-13">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_access_token</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_auth_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_access_token</p>
                        <p><strong>Dosya:</strong> unit\test_auth_service.py</p>
                        <p><strong>Açıklama:</strong> JWT oluşturma işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_access_token():
    """
    JWT oluşturma işlevini test eder
    """
    data = {"sub": "test@example.com"}
    token = create_access_token(data)
    
    # Token bir string olmalı
    assert isinstance(token, str)
    # Token boş olmamalı
    assert token
    # JWT formatını kontrol etmek için noktaları sayalım (header.payload.signature)
    assert token.count('.') == 2 </pre>
                    </div>
                    
                </div>
            </div>
            
            </div>
            <div class="test-category" id="user-category">
                
        <div class="category-summary">
            <h3><i class="fas fa-user"></i> Kullanıcı Servisi Testleri</h3>
            <div class="category-stats">
                <span class="stat-item">Toplam: 9</span>
                <span class="stat-item status-success">Başarılı: 9</span>
                <span class="stat-item status-failed">Başarısız: 0</span>
                <span class="stat-item status-skipped">Atlanan: 0</span>
            </div>
        </div>
        
                
            <div class="test-item" id="user-test-0">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_user</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_user_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_user</p>
                        <p><strong>Dosya:</strong> unit\test_user_service.py</p>
                        <p><strong>Açıklama:</strong> Kullanıcı oluşturma işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_user(test_db: Session):
    """
    Kullanıcı oluşturma işlevini test eder
    """
    # Benzersiz bir e-posta adresi oluştur
    unique_id = str(uuid.uuid4())
    email = f"test_create_user_{unique_id}@example.com"
    
    user_data = UserCreate(
        email=email,
        password="password123",
        full_name="Test User",
        date_of_birth=date(2000, 1, 1)
    )
    
    user = create_user(test_db, user_data)
    
    # Kullanıcı doğru şekilde oluşturuldu mu?
    assert user.email == user_data.email
    assert user.full_name == user_data.full_name
    assert user.date_of_birth == user_data.date_of_birth
    
    # Şifre hash'lendi mi?
    assert user.hashed_password != user_data.password
    
    # Kullanıcı aktif mi?
    assert user.is_active == True
    
    # Superuser değil, değil mi?
    assert user.is_superuser == False
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="user-test-1">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_user_with_existing_email</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_user_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_user_with_existing_email</p>
                        <p><strong>Dosya:</strong> unit\test_user_service.py</p>
                        <p><strong>Açıklama:</strong> Var olan bir e-posta ile kullanıcı oluşturmayı dener ve hatayı doğrular</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_user_with_existing_email(test_db: Session, test_user: User):
    """
    Var olan bir e-posta ile kullanıcı oluşturmayı dener ve hatayı doğrular
    """
    user_data = UserCreate(
        email=test_user.email,  # Var olan bir e-posta
        password="password123",
        full_name="Another User",
        date_of_birth=date(2000, 1, 1)
    )
    
    with pytest.raises(HTTPException) as excinfo:
        create_user(test_db, user_data)
    
    assert excinfo.value.status_code == 400
    assert "Email already registered" in excinfo.value.detail
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="user-test-2">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_user_by_id</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_user_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_user_by_id</p>
                        <p><strong>Dosya:</strong> unit\test_user_service.py</p>
                        <p><strong>Açıklama:</strong> ID ile kullanıcı getirme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_user_by_id(test_db: Session, test_user: User):
    """
    ID ile kullanıcı getirme işlevini test eder
    """
    user = get_user_by_id(test_db, test_user.id)
    
    # Doğru kullanıcı getirildi mi?
    assert user.id == test_user.id
    assert user.email == test_user.email
    assert user.full_name == test_user.full_name
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="user-test-3">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_user_by_nonexistent_id</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_user_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_user_by_nonexistent_id</p>
                        <p><strong>Dosya:</strong> unit\test_user_service.py</p>
                        <p><strong>Açıklama:</strong> Var olmayan bir ID ile kullanıcı getirmeyi dener ve hatayı doğrular</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_user_by_nonexistent_id(test_db: Session):
    """
    Var olmayan bir ID ile kullanıcı getirmeyi dener ve hatayı doğrular
    """
    with pytest.raises(HTTPException) as excinfo:
        get_user_by_id(test_db, 9999)  # Var olmayan ID
    
    assert excinfo.value.status_code == 404
    assert "not found" in excinfo.value.detail.lower()
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="user-test-4">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_user_by_email</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_user_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_user_by_email</p>
                        <p><strong>Dosya:</strong> unit\test_user_service.py</p>
                        <p><strong>Açıklama:</strong> E-posta ile kullanıcı getirme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_user_by_email(test_db: Session, test_user: User):
    """
    E-posta ile kullanıcı getirme işlevini test eder
    """
    user = get_user_by_email(test_db, test_user.email)
    
    # Doğru kullanıcı getirildi mi?
    assert user is not None
    assert user.id == test_user.id
    assert user.email == test_user.email
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="user-test-5">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_user_by_nonexistent_email</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_user_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_user_by_nonexistent_email</p>
                        <p><strong>Dosya:</strong> unit\test_user_service.py</p>
                        <p><strong>Açıklama:</strong> Var olmayan bir e-posta ile kullanıcı getirmeyi dener</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_user_by_nonexistent_email(test_db: Session):
    """
    Var olmayan bir e-posta ile kullanıcı getirmeyi dener
    """
    user = get_user_by_email(test_db, "nonexistent@example.com")
    
    # Kullanıcı bulunamadı mı?
    assert user is None
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="user-test-6">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_update_user</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_user_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_update_user</p>
                        <p><strong>Dosya:</strong> unit\test_user_service.py</p>
                        <p><strong>Açıklama:</strong> Kullanıcı güncelleme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_update_user(test_db: Session, test_user: User):
    """
    Kullanıcı güncelleme işlevini test eder
    """
    # Önce bir kopya oluştur
    original_hashed_password = test_user.hashed_password
    
    update_data = UserUpdate(
        full_name="Updated Test User",
        password="newpassword123"
    )
    
    updated_user = update_user(test_db, test_user.id, update_data)
    
    # Kullanıcı doğru şekilde güncellendi mi?
    assert updated_user.id == test_user.id
    assert updated_user.full_name == update_data.full_name
    
    # Şifre güncellendi mi?
    assert updated_user.hashed_password != original_hashed_password
    
    # E-posta ve diğer alanlar değişmedi mi?
    assert updated_user.email == test_user.email
    assert updated_user.date_of_birth == test_user.date_of_birth
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="user-test-7">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_delete_user</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_user_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_delete_user</p>
                        <p><strong>Dosya:</strong> unit\test_user_service.py</p>
                        <p><strong>Açıklama:</strong> Kullanıcı silme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_delete_user(test_db: Session):
    """
    Kullanıcı silme işlevini test eder
    """
    # Önce bir kullanıcı oluştur
    unique_id = str(uuid.uuid4())
    user_data = UserCreate(
        email=f"test_delete_user_{unique_id}@example.com",
        password="password123",
        full_name="User To Delete",
        date_of_birth=date(2000, 1, 1)
    )
    
    created_user = create_user(test_db, user_data)
    user_id = created_user.id
    
    # Kullanıcıyı sil
    delete_user(test_db, user_id)
    
    # Kullanıcı silindi mi kontrol et
    with pytest.raises(HTTPException) as excinfo:
        get_user_by_id(test_db, user_id)
    
    assert excinfo.value.status_code == 404
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="user-test-8">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_authenticate_user</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_user_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_authenticate_user</p>
                        <p><strong>Dosya:</strong> unit\test_user_service.py</p>
                        <p><strong>Açıklama:</strong> Kullanıcı kimlik doğrulama işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_authenticate_user(test_db: Session):
    """
    Kullanıcı kimlik doğrulama işlevini test eder
    """
    # Önce bir kullanıcı oluştur
    unique_id = str(uuid.uuid4())
    email = f"test_auth_user_{unique_id}@example.com"
    password = "password123"
    
    user_data = UserCreate(
        email=email,
        password=password,
        full_name="Auth Test User",
        date_of_birth=date(2000, 1, 1)
    )
    
    create_user(test_db, user_data)
    
    # Doğru kimlik bilgileriyle doğrulama
    authenticated_user = authenticate_user(test_db, email, password)
    assert authenticated_user is not None
    assert authenticated_user.email == email
    
    # Yanlış şifre ile doğrulama
    authenticated_user = authenticate_user(test_db, email, "wrongpassword")
    assert authenticated_user is None
    
    # Yanlış e-posta ile doğrulama
    authenticated_user = authenticate_user(test_db, "wrong@example.com", password)
    assert authenticated_user is None </pre>
                    </div>
                    
                </div>
            </div>
            
            </div>
            <div class="test-category" id="game-category">
                
        <div class="category-summary">
            <h3><i class="fas fa-gamepad"></i> Oyun Servisi Testleri</h3>
            <div class="category-stats">
                <span class="stat-item">Toplam: 23</span>
                <span class="stat-item status-success">Başarılı: 23</span>
                <span class="stat-item status-failed">Başarısız: 0</span>
                <span class="stat-item status-skipped">Atlanan: 0</span>
            </div>
        </div>
        
                
            <div class="test-item" id="game-test-0">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_game_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_game_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_game_route</p>
                        <p><strong>Dosya:</strong> integration\test_game_routes.py</p>
                        <p><strong>Açıklama:</strong> Oyun oluşturma endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_game_route(client: TestClient, auth_headers):
    """
    Oyun oluşturma endpoint'ini test eder
    """
    game_data = {
        "name": "test_route_game",
        "title": "Test Route Game",
        "description": "Test game creation via API"
    }
    
    response = client.post("/api/v1/games", json=game_data, headers=auth_headers)
    
    assert response.status_code == status.HTTP_201_CREATED
    data = response.json()
    assert data["name"] == game_data["name"]
    # Şifrelenmiş alanları sadece var olup olmadığını kontrol edelim
    assert "title" in data
    assert "description" in data
    assert "id" in data
    assert "created_at" in data
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-1">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_game_unauthorized</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_game_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_game_unauthorized</p>
                        <p><strong>Dosya:</strong> integration\test_game_routes.py</p>
                        <p><strong>Açıklama:</strong> Kimlik doğrulama olmadan oyun oluşturmayı dener</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_game_unauthorized(client: TestClient):
    """
    Kimlik doğrulama olmadan oyun oluşturmayı dener
    """
    game_data = {
        "name": "unauthorized_game",
        "title": "Unauthorized Game",
        "description": "Should not be created"
    }
    
    response = client.post("/api/v1/games", json=game_data)
    
    assert response.status_code == status.HTTP_401_UNAUTHORIZED
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-2">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_game_by_id_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_game_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_game_by_id_route</p>
                        <p><strong>Dosya:</strong> integration\test_game_routes.py</p>
                        <p><strong>Açıklama:</strong> ID ile oyun getirme endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_game_by_id_route(client: TestClient, auth_headers):
    """
    ID ile oyun getirme endpoint'ini test eder
    """
    # Önce bir oyun oluştur
    game_data = {
        "name": "get_route_game",
        "title": "Get Route Game",
        "description": "Test getting game by ID via API"
    }
    
    create_response = client.post("/api/v1/games", json=game_data, headers=auth_headers)
    assert create_response.status_code == status.HTTP_201_CREATED
    game_id = create_response.json()["id"]
    
    # ID ile oyunu getir
    get_response = client.get(f"/api/v1/games/{game_id}")
    
    assert get_response.status_code == status.HTTP_200_OK
    data = get_response.json()
    assert data["id"] == game_id
    assert data["name"] == game_data["name"]
    # Şifrelenmiş alanları sadece var olup olmadığını kontrol edelim
    assert "title" in data
    assert "description" in data
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-3">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_nonexistent_game</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_game_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_nonexistent_game</p>
                        <p><strong>Dosya:</strong> integration\test_game_routes.py</p>
                        <p><strong>Açıklama:</strong> Var olmayan bir ID ile oyun getirmeyi dener</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_nonexistent_game(client: TestClient):
    """
    Var olmayan bir ID ile oyun getirmeyi dener
    """
    response = client.get("/api/v1/games/9999")  # Var olmayan ID
    
    assert response.status_code == status.HTTP_404_NOT_FOUND
    assert "detail" in response.json()
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-4">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_all_games_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_game_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_all_games_route</p>
                        <p><strong>Dosya:</strong> integration\test_game_routes.py</p>
                        <p><strong>Açıklama:</strong> Tüm oyunları getirme endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_all_games_route(client: TestClient, auth_headers):
    """
    Tüm oyunları getirme endpoint'ini test eder
    """
    # Önce birkaç oyun oluştur
    game_data1 = {
        "name": "all_games_test1",
        "title": "All Games Test 1",
        "description": "Test game 1 for get all endpoint"
    }
    
    game_data2 = {
        "name": "all_games_test2",
        "title": "All Games Test 2",
        "description": "Test game 2 for get all endpoint"
    }
    
    client.post("/api/v1/games", json=game_data1, headers=auth_headers)
    client.post("/api/v1/games", json=game_data2, headers=auth_headers)
    
    # Tüm oyunları getir
    response = client.get("/api/v1/games")
    
    assert response.status_code == status.HTTP_200_OK
    data = response.json()
    assert isinstance(data, list)
    
    # Oluşturduğumuz oyunlar listede olmalı
    game_names = [game["name"] for game in data]
    assert "all_games_test1" in game_names
    assert "all_games_test2" in game_names
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-5">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_delete_game_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_game_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_delete_game_route</p>
                        <p><strong>Dosya:</strong> integration\test_game_routes.py</p>
                        <p><strong>Açıklama:</strong> Oyun silme endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_delete_game_route(client: TestClient, auth_headers):
    """
    Oyun silme endpoint'ini test eder
    """
    # Önce bir oyun oluştur
    game_data = {
        "name": "delete_route_game",
        "title": "Delete Route Game",
        "description": "Test game deletion via API"
    }
    
    create_response = client.post("/api/v1/games", json=game_data, headers=auth_headers)
    assert create_response.status_code == status.HTTP_201_CREATED
    game_id = create_response.json()["id"]
    
    # Oyunu sil
    delete_response = client.delete(f"/api/v1/games/{game_id}", headers=auth_headers)
    assert delete_response.status_code == status.HTTP_204_NO_CONTENT
    
    # Oyunun silindiğini doğrula
    get_response = client.get(f"/api/v1/games/{game_id}")
    assert get_response.status_code == status.HTTP_404_NOT_FOUND
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-6">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_delete_game_unauthorized</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_game_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_delete_game_unauthorized</p>
                        <p><strong>Dosya:</strong> integration\test_game_routes.py</p>
                        <p><strong>Açıklama:</strong> Kimlik doğrulama olmadan oyun silmeyi dener</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_delete_game_unauthorized(client: TestClient, auth_headers):
    """
    Kimlik doğrulama olmadan oyun silmeyi dener
    """
    # Önce bir oyun oluştur
    game_data = {
        "name": "unauth_delete_game",
        "title": "Unauthorized Delete Game",
        "description": "Test unauthorized game deletion"
    }
    
    create_response = client.post("/api/v1/games", json=game_data, headers=auth_headers)
    assert create_response.status_code == status.HTTP_201_CREATED
    game_id = create_response.json()["id"]
    
    # Kimlik doğrulama olmadan silmeyi dene
    delete_response = client.delete(f"/api/v1/games/{game_id}")
    assert delete_response.status_code == status.HTTP_401_UNAUTHORIZED </pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-7">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_game_session_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_game_session_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_game_session_route</p>
                        <p><strong>Dosya:</strong> integration\test_game_session_routes.py</p>
                        <p><strong>Açıklama:</strong> Oyun oturumu oluşturma endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_game_session_route(client: TestClient, auth_headers, test_game_id, test_user_id, test_db):
    """
    Oyun oturumu oluşturma endpoint'ini test eder
    """
    game_session_data = {
        "game_id": test_game_id,
        "user_id": test_user_id,
        "score": 100,
        "success": True,
        "started_at": datetime.now().isoformat()
    }
    
    response = client.post("/api/v1/game_sessions", json=game_session_data, headers=auth_headers)
    
    assert response.status_code == status.HTTP_201_CREATED
    data = response.json()
    assert data["game_id"] == game_session_data["game_id"]
    assert data["user_id"] == game_session_data["user_id"]
    assert data["score"] == game_session_data["score"]
    assert data["success"] == game_session_data["success"]
    assert "id" in data
    assert "started_at" in data
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-8">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_game_session_unauthorized</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_game_session_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_game_session_unauthorized</p>
                        <p><strong>Dosya:</strong> integration\test_game_session_routes.py</p>
                        <p><strong>Açıklama:</strong> Kimlik doğrulama olmadan oyun oturumu oluşturmayı dener</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_game_session_unauthorized(client: TestClient, test_game_id, test_user_id):
    """
    Kimlik doğrulama olmadan oyun oturumu oluşturmayı dener
    """
    game_session_data = {
        "game_id": test_game_id,
        "user_id": test_user_id,
        "score": 50,
        "success": False,
        "started_at": datetime.now().isoformat()
    }
    
    response = client.post("/api/v1/game_sessions", json=game_session_data)
    
    assert response.status_code == status.HTTP_401_UNAUTHORIZED
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-9">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_all_game_sessions_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_game_session_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_all_game_sessions_route</p>
                        <p><strong>Dosya:</strong> integration\test_game_session_routes.py</p>
                        <p><strong>Açıklama:</strong> Tüm oyun oturumlarını getirme endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_all_game_sessions_route(client: TestClient, auth_headers, test_game_id, test_user_id, test_db):
    """
    Tüm oyun oturumlarını getirme endpoint'ini test eder
    """
    # Veritabanına doğrudan oyun oturumları ekleyelim
    session1 = GameSession(
        game_id=test_game_id,
        user_id=test_user_id,
        score=200,
        success=True,
        started_at=datetime.now()
    )
    
    session2 = GameSession(
        game_id=test_game_id,
        user_id=test_user_id,
        score=300,
        success=True,
        started_at=datetime.now()
    )
    
    test_db.add(session1)
    test_db.add(session2)
    test_db.commit()
    
    # Tüm oyun oturumlarını getir
    response = client.get("/api/v1/game_sessions")
    
    assert response.status_code == status.HTTP_200_OK
    data = response.json()
    assert isinstance(data, list)
    assert len(data) >= 2
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-10">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_user_game_sessions_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_game_session_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_user_game_sessions_route</p>
                        <p><strong>Dosya:</strong> integration\test_game_session_routes.py</p>
                        <p><strong>Açıklama:</strong> Kullanıcının oyun oturumlarını getirme endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_user_game_sessions_route(client: TestClient, auth_headers, test_game_id, test_user_id, test_db):
    """
    Kullanıcının oyun oturumlarını getirme endpoint'ini test eder
    """
    # Veritabanına doğrudan bir oyun oturumu ekleyelim
    session = GameSession(
        game_id=test_game_id,
        user_id=test_user_id,
        score=150,
        success=True,
        started_at=datetime.now()
    )
    
    test_db.add(session)
    test_db.commit()
    
    # Kullanıcının oyun oturumlarını getir
    response = client.get(f"/api/v1/game_sessions/user/{test_user_id}")
    
    assert response.status_code == status.HTTP_200_OK
    data = response.json()
    assert isinstance(data, list)
    assert len(data) >= 1
    
    # Oluşturduğumuz oturum kullanıcının oturumları arasında olmalı
    user_sessions = [s for s in data if s["user_id"] == test_user_id]
    assert len(user_sessions) >= 1
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-11">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_game_sessions_by_game_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_game_session_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_game_sessions_by_game_route</p>
                        <p><strong>Dosya:</strong> integration\test_game_session_routes.py</p>
                        <p><strong>Açıklama:</strong> Oyuna göre oturumları getirme endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_game_sessions_by_game_route(client: TestClient, auth_headers, test_game_id, test_user_id, test_db):
    """
    Oyuna göre oturumları getirme endpoint'ini test eder
    """
    # Veritabanına doğrudan bir oyun oturumu ekleyelim
    session = GameSession(
        game_id=test_game_id,
        user_id=test_user_id,
        score=250,
        success=True,
        started_at=datetime.now()
    )
    
    test_db.add(session)
    test_db.commit()
    
    # Oyuna göre oturumları getir
    response = client.get(f"/api/v1/game_sessions/game/{test_game_id}")
    
    assert response.status_code == status.HTTP_200_OK
    data = response.json()
    assert isinstance(data, list)
    
    # Oluşturduğumuz oturum oyunun oturumları arasında olmalı
    game_sessions = [s for s in data if s["game_id"] == test_game_id]
    assert len(game_sessions) >= 1
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-12">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_filtered_game_sessions_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_game_session_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_filtered_game_sessions_route</p>
                        <p><strong>Dosya:</strong> integration\test_game_session_routes.py</p>
                        <p><strong>Açıklama:</strong> Oyun ID'sine göre filtrelenmiş oturumları getirme endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_filtered_game_sessions_route(client: TestClient, auth_headers, test_game_id, test_user_id, test_db):
    """
    Oyun ID'sine göre filtrelenmiş oturumları getirme endpoint'ini test eder
    """
    # Veritabanına doğrudan bir oyun oturumu ekleyelim
    session = GameSession(
        game_id=test_game_id,
        user_id=test_user_id,
        score=300,
        success=True,
        started_at=datetime.now()
    )
    
    test_db.add(session)
    test_db.commit()
    
    # Filtrelenmiş oturumları getir
    response = client.get(f"/api/v1/game_sessions/filter?game_id={test_game_id}")
    
    assert response.status_code == status.HTTP_200_OK
    data = response.json()
    assert isinstance(data, list)
    
    # Tüm oturumlar belirtilen oyuna ait olmalı
    for s in data:
        assert s["game_id"] == test_game_id </pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-13">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_game</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_game_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_game</p>
                        <p><strong>Dosya:</strong> unit\test_game_service.py</p>
                        <p><strong>Açıklama:</strong> Oyun oluşturma işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_game(test_db: Session, test_user: User):
    """
    Oyun oluşturma işlevini test eder
    """
    game_data = GameCreate(
        name="test_game",
        title="Test Game",
        description="Test game description"
    )
    
    game = create_game(test_db, game_data, test_user)
    
    # Oyun doğru şekilde oluşturuldu mu?
    assert game.name == game_data.name
    # Not: title ve description şifrelenmiş olarak saklanır ve döndürülürken çözülür
    # Bu nedenle doğrudan eşitliği kontrol edemiyoruz
    assert isinstance(game.title, str)
    assert isinstance(game.description, str)
    
    # Veritabanından çekip kontrol edelim
    db_game = get_game_by_id(test_db, game.id)
    assert db_game is not None
    assert db_game.name == game_data.name
    assert isinstance(db_game.title, str)
    assert isinstance(db_game.description, str)
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-14">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_game_by_id</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_game_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_game_by_id</p>
                        <p><strong>Dosya:</strong> unit\test_game_service.py</p>
                        <p><strong>Açıklama:</strong> ID ile oyun getirme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_game_by_id(test_db: Session, test_user: User):
    """
    ID ile oyun getirme işlevini test eder
    """
    # Önce bir oyun oluştur
    game_data = GameCreate(
        name="get_game_test",
        title="Get Game Test",
        description="Test game retrieval"
    )
    
    created_game = create_game(test_db, game_data, test_user)
    
    # ID ile oyunu getir
    game = get_game_by_id(test_db, created_game.id)
    
    # Doğru oyun getirildi mi?
    assert game.id == created_game.id
    assert game.name == game_data.name
    # Şifrelenmiş/çözülmüş alanlarda tür kontrolü yap
    assert isinstance(game.title, str)
    assert isinstance(game.description, str)
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-15">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_game_by_nonexistent_id</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_game_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_game_by_nonexistent_id</p>
                        <p><strong>Dosya:</strong> unit\test_game_service.py</p>
                        <p><strong>Açıklama:</strong> Var olmayan bir ID ile oyun getirmeyi dener ve hatayı doğrular</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_game_by_nonexistent_id(test_db: Session):
    """
    Var olmayan bir ID ile oyun getirmeyi dener ve hatayı doğrular
    """
    with pytest.raises(HTTPException) as excinfo:
        get_game_by_id(test_db, 9999)  # Var olmayan ID
    
    assert excinfo.value.status_code == 404
    assert "not found" in excinfo.value.detail
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-16">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_all_games</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_game_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_all_games</p>
                        <p><strong>Dosya:</strong> unit\test_game_service.py</p>
                        <p><strong>Açıklama:</strong> Tüm oyunları getirme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_all_games(test_db: Session, test_user: User):
    """
    Tüm oyunları getirme işlevini test eder
    """
    # Birkaç oyun oluştur
    game_data1 = GameCreate(
        name="game1",
        title="Game One",
        description="First test game"
    )
    
    game_data2 = GameCreate(
        name="game2",
        title="Game Two",
        description="Second test game"
    )
    
    create_game(test_db, game_data1, test_user)
    create_game(test_db, game_data2, test_user)
    
    # Tüm oyunları getir
    games = get_all_games(test_db)
    
    # En az iki oyun olmalı
    assert len(games) >= 2
    
    # Oluşturduğumuz oyunlar listede olmalı (name alanına göre kontrol et)
    assert any(g.name == "game1" for g in games)
    assert any(g.name == "game2" for g in games)
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-17">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_delete_game</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_game_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_delete_game</p>
                        <p><strong>Dosya:</strong> unit\test_game_service.py</p>
                        <p><strong>Açıklama:</strong> Oyun silme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_delete_game(test_db: Session, test_user: User):
    """
    Oyun silme işlevini test eder
    """
    # Önce bir oyun oluştur
    game_data = GameCreate(
        name="delete_game_test",
        title="Delete Game Test",
        description="Test game deletion"
    )
    
    created_game = create_game(test_db, game_data, test_user)
    game_id = created_game.id
    
    # Oyunu sil
    delete_game(test_db, game_id, test_user)
    
    # Oyun silindi mi kontrol et
    with pytest.raises(HTTPException) as excinfo:
        get_game_by_id(test_db, game_id)
    
    assert excinfo.value.status_code == 404 </pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-18">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_game_session</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_game_session_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_game_session</p>
                        <p><strong>Dosya:</strong> unit\test_game_session_service.py</p>
                        <p><strong>Açıklama:</strong> Oyun oturumu oluşturma işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_game_session(test_db: Session, test_user: User):
    """
    Oyun oturumu oluşturma işlevini test eder
    """
    # Önce bir oyun oluştur
    game_data = GameCreate(
        name="test_game_session",
        title="Test Game Session",
        description="Test game session creation"
    )
    game = create_game(test_db, game_data, test_user)
    
    # Oyun oturumu oluştur
    game_session_data = GameSessionCreate(
        user_id=test_user.id,
        game_id=game.id,
        started_at=datetime.now(),
        score=0
    )
    
    game_session = create_game_session(test_db, game_session_data)
    
    # Oyun oturumu doğru şekilde oluşturuldu mu?
    assert game_session.user_id == game_session_data.user_id
    assert game_session.game_id == game_session_data.game_id
    assert game_session.started_at is not None
    assert game_session.ended_at is None  # Henüz bitmemiş olmalı
    assert game_session.score == 0
    
    # Veritabanından çekip kontrol edelim
    db_game_session = get_game_session_by_id(test_db, game_session.id)
    assert db_game_session is not None
    assert db_game_session.user_id == game_session_data.user_id
    assert db_game_session.game_id == game_session_data.game_id
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-19">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_game_session_by_id</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_game_session_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_game_session_by_id</p>
                        <p><strong>Dosya:</strong> unit\test_game_session_service.py</p>
                        <p><strong>Açıklama:</strong> ID ile oyun oturumu getirme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_game_session_by_id(test_db: Session, test_user: User):
    """
    ID ile oyun oturumu getirme işlevini test eder
    """
    # Önce bir oyun oluştur
    game_data = GameCreate(
        name="get_game_session_test",
        title="Get Game Session Test",
        description="Test game session retrieval"
    )
    game = create_game(test_db, game_data, test_user)
    
    # Oyun oturumu oluştur
    game_session_data = GameSessionCreate(
        user_id=test_user.id,
        game_id=game.id,
        started_at=datetime.now(),
        score=100
    )
    
    created_game_session = create_game_session(test_db, game_session_data)
    
    # ID ile oyun oturumunu getir
    game_session = get_game_session_by_id(test_db, created_game_session.id)
    
    # Doğru oyun oturumu getirildi mi?
    assert game_session.id == created_game_session.id
    assert game_session.user_id == game_session_data.user_id
    assert game_session.game_id == game_session_data.game_id
    assert game_session.score == game_session_data.score
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-20">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_game_session_by_nonexistent_id</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_game_session_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_game_session_by_nonexistent_id</p>
                        <p><strong>Dosya:</strong> unit\test_game_session_service.py</p>
                        <p><strong>Açıklama:</strong> Var olmayan bir ID ile oyun oturumu getirmeyi dener ve hatayı doğrular</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_game_session_by_nonexistent_id(test_db: Session):
    """
    Var olmayan bir ID ile oyun oturumu getirmeyi dener ve hatayı doğrular
    """
    with pytest.raises(HTTPException) as excinfo:
        get_game_session_by_id(test_db, 9999)  # Var olmayan ID
    
    assert excinfo.value.status_code == 404
    assert "not found" in excinfo.value.detail.lower()
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-21">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_end_game_session</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_game_session_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_end_game_session</p>
                        <p><strong>Dosya:</strong> unit\test_game_session_service.py</p>
                        <p><strong>Açıklama:</strong> Oyun oturumunu sonlandırma işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_end_game_session(test_db: Session, test_user: User):
    """
    Oyun oturumunu sonlandırma işlevini test eder
    """
    # Önce bir oyun oluştur
    game_data = GameCreate(
        name="end_game_session_test",
        title="End Game Session Test",
        description="Test game session ending"
    )
    game = create_game(test_db, game_data, test_user)
    
    # Oyun oturumu oluştur
    game_session_data = GameSessionCreate(
        user_id=test_user.id,
        game_id=game.id,
        started_at=datetime.now() - timedelta(minutes=30),  # 30 dakika önce başlamış
        score=0
    )
    
    created_game_session = create_game_session(test_db, game_session_data)
    
    # Oyun oturumunu sonlandır
    final_score = 500
    ended_game_session = end_game_session(test_db, created_game_session.id, final_score)
    
    # Oyun oturumu doğru şekilde sonlandırıldı mı?
    assert ended_game_session.ended_at is not None
    assert ended_game_session.score == final_score
    
    # Veritabanından çekip kontrol edelim
    db_game_session = get_game_session_by_id(test_db, created_game_session.id)
    assert db_game_session.ended_at is not None
    assert db_game_session.score == final_score
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="game-test-22">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_user_game_sessions</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_game_session_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_user_game_sessions</p>
                        <p><strong>Dosya:</strong> unit\test_game_session_service.py</p>
                        <p><strong>Açıklama:</strong> Kullanıcının oyun oturumlarını getirme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_user_game_sessions(test_db: Session, test_user: User):
    """
    Kullanıcının oyun oturumlarını getirme işlevini test eder
    """
    # Önce kullanıcının oyun oturumlarını temizle
    test_db.query(GameSession).filter(GameSession.user_id == test_user.id).delete()
    test_db.commit()
    
    # Bir oyun oluştur
    game_data = GameCreate(
        name="user_game_sessions_test",
        title="User Game Sessions Test",
        description="Test user game sessions retrieval"
    )
    game = create_game(test_db, game_data, test_user)
    
    # İki farklı oyun oturumu oluştur
    game_session_data1 = GameSessionCreate(
        user_id=test_user.id,
        game_id=game.id,
        started_at=datetime.now() - timedelta(days=1),
        score=200
    )
    
    game_session_data2 = GameSessionCreate(
        user_id=test_user.id,
        game_id=game.id,
        started_at=datetime.now() - timedelta(hours=2),
        score=300
    )
    
    session1 = create_game_session(test_db, game_session_data1)
    session2 = create_game_session(test_db, game_session_data2)
    
    # İlk oturumu sonlandır
    end_game_session(test_db, session1.id, 200)
    
    # Kullanıcının oyun oturumlarını getir
    user_game_sessions = get_user_game_sessions(test_db, test_user.id)
    
    # Kullanıcının en az iki oyun oturumu olmalı
    assert len(user_game_sessions) >= 2
    
    # Oluşturduğumuz oturumlar listede olmalı
    session_ids = [gs.id for gs in user_game_sessions]
    assert session1.id in session_ids
    assert session2.id in session_ids
    
    # Aktif ve tamamlanmış oturumlar ayrı olarak test edilebilir
    active_sessions = [gs for gs in user_game_sessions if gs.ended_at is None]
    completed_sessions = [gs for gs in user_game_sessions if gs.ended_at is not None]
    
    assert len(active_sessions) >= 1
    assert len(completed_sessions) >= 1 </pre>
                    </div>
                    
                </div>
            </div>
            
            </div>
            <div class="test-category" id="avatar-category">
                
        <div class="category-summary">
            <h3><i class="fas fa-user-circle"></i> Avatar Servisi Testleri</h3>
            <div class="category-stats">
                <span class="stat-item">Toplam: 18</span>
                <span class="stat-item status-success">Başarılı: 18</span>
                <span class="stat-item status-failed">Başarısız: 0</span>
                <span class="stat-item status-skipped">Atlanan: 0</span>
            </div>
        </div>
        
                
            <div class="test-item" id="avatar-test-0">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_avatar_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_avatar_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_avatar_route</p>
                        <p><strong>Dosya:</strong> integration\test_avatar_routes.py</p>
                        <p><strong>Açıklama:</strong> Avatar oluşturma endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_avatar_route(client: TestClient, auth_headers):
    """
    Avatar oluşturma endpoint'ini test eder
    """
    avatar_data = {
        "name": "test_route_avatar",
        "image_url": "http://example.com/route_avatar.png",
        "description": "Test avatar creation via API"
    }
    
    response = client.post("/api/v1/avatars", json=avatar_data, headers=auth_headers)
    
    assert response.status_code == status.HTTP_201_CREATED
    data = response.json()
    assert data["name"] == avatar_data["name"]  # İsim şifrelenmeden dönülür
    assert data["image_url"] == avatar_data["image_url"]
    assert data["description"] == avatar_data["description"]  # Açıklama şifrelenmeden dönülür
    assert "id" in data
    assert "created_at" in data
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="avatar-test-1">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_avatar_unauthorized</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_avatar_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_avatar_unauthorized</p>
                        <p><strong>Dosya:</strong> integration\test_avatar_routes.py</p>
                        <p><strong>Açıklama:</strong> Kimlik doğrulama olmadan avatar oluşturmayı dener</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_avatar_unauthorized(client: TestClient):
    """
    Kimlik doğrulama olmadan avatar oluşturmayı dener
    """
    avatar_data = {
        "name": "unauthorized_avatar",
        "image_url": "http://example.com/unauthorized_avatar.png",
        "description": "Should not be created"
    }
    
    response = client.post("/api/v1/avatars", json=avatar_data)
    
    assert response.status_code == status.HTTP_401_UNAUTHORIZED
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="avatar-test-2">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_avatar_by_id_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_avatar_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_avatar_by_id_route</p>
                        <p><strong>Dosya:</strong> integration\test_avatar_routes.py</p>
                        <p><strong>Açıklama:</strong> ID ile avatar getirme endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_avatar_by_id_route(client: TestClient, auth_headers):
    """
    ID ile avatar getirme endpoint'ini test eder
    """
    # Önce bir avatar oluştur
    avatar_data = {
        "name": "get_route_avatar",
        "image_url": "http://example.com/get_route_avatar.png",
        "description": "Test getting avatar by ID via API"
    }
    
    create_response = client.post("/api/v1/avatars", json=avatar_data, headers=auth_headers)
    assert create_response.status_code == status.HTTP_201_CREATED
    avatar_id = create_response.json()["id"]
    
    # ID ile avatarı getir
    get_response = client.get(f"/api/v1/avatars/{avatar_id}")
    
    assert get_response.status_code == status.HTTP_200_OK
    data = get_response.json()
    assert data["id"] == avatar_id
    assert "name" in data
    assert "image_url" in data
    assert "description" in data
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="avatar-test-3">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_nonexistent_avatar</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_avatar_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_nonexistent_avatar</p>
                        <p><strong>Dosya:</strong> integration\test_avatar_routes.py</p>
                        <p><strong>Açıklama:</strong> Var olmayan bir ID ile avatar getirmeyi dener</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_nonexistent_avatar(client: TestClient):
    """
    Var olmayan bir ID ile avatar getirmeyi dener
    """
    response = client.get("/api/v1/avatars/9999")  # Var olmayan ID
    
    assert response.status_code == status.HTTP_404_NOT_FOUND
    assert "detail" in response.json()
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="avatar-test-4">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_all_avatars_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_avatar_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_all_avatars_route</p>
                        <p><strong>Dosya:</strong> integration\test_avatar_routes.py</p>
                        <p><strong>Açıklama:</strong> Tüm avatarları getirme endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_all_avatars_route(client: TestClient, auth_headers):
    """
    Tüm avatarları getirme endpoint'ini test eder
    """
    # Önce birkaç avatar oluştur
    avatar_data1 = {
        "name": "all_avatars_test1",
        "image_url": "http://example.com/all_avatars1.png",
        "description": "Test avatar 1 for get all endpoint"
    }
    
    avatar_data2 = {
        "name": "all_avatars_test2",
        "image_url": "http://example.com/all_avatars2.png",
        "description": "Test avatar 2 for get all endpoint"
    }
    
    client.post("/api/v1/avatars", json=avatar_data1, headers=auth_headers)
    client.post("/api/v1/avatars", json=avatar_data2, headers=auth_headers)
    
    # Tüm avatarları getir
    response = client.get("/api/v1/avatars")
    
    assert response.status_code == status.HTTP_200_OK
    data = response.json()
    assert isinstance(data, list)
    
    # Oluşturduğumuz avatarlar listede olmalı (doğrudan değerler yerine varlığını kontrol et)
    assert len(data) >= 2
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="avatar-test-5">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_delete_avatar_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_avatar_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_delete_avatar_route</p>
                        <p><strong>Dosya:</strong> integration\test_avatar_routes.py</p>
                        <p><strong>Açıklama:</strong> Avatar silme endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_delete_avatar_route(client: TestClient, auth_headers):
    """
    Avatar silme endpoint'ini test eder
    """
    # Önce bir avatar oluştur
    avatar_data = {
        "name": "delete_route_avatar",
        "image_url": "http://example.com/delete_route_avatar.png",
        "description": "Test avatar deletion via API"
    }
    
    create_response = client.post("/api/v1/avatars", json=avatar_data, headers=auth_headers)
    assert create_response.status_code == status.HTTP_201_CREATED
    avatar_id = create_response.json()["id"]
    
    # Avatarı sil
    delete_response = client.delete(f"/api/v1/avatars/{avatar_id}", headers=auth_headers)
    assert delete_response.status_code == status.HTTP_204_NO_CONTENT
    
    # Avatarın silindiğini doğrula
    get_response = client.get(f"/api/v1/avatars/{avatar_id}")
    assert get_response.status_code == status.HTTP_404_NOT_FOUND
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="avatar-test-6">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_delete_avatar_unauthorized</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_avatar_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_delete_avatar_unauthorized</p>
                        <p><strong>Dosya:</strong> integration\test_avatar_routes.py</p>
                        <p><strong>Açıklama:</strong> Kimlik doğrulama olmadan avatar silmeyi dener</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_delete_avatar_unauthorized(client: TestClient, auth_headers):
    """
    Kimlik doğrulama olmadan avatar silmeyi dener
    """
    # Önce bir avatar oluştur
    avatar_data = {
        "name": "unauth_delete_avatar",
        "image_url": "http://example.com/unauth_delete_avatar.png",
        "description": "Test unauthorized avatar deletion"
    }
    
    create_response = client.post("/api/v1/avatars", json=avatar_data, headers=auth_headers)
    assert create_response.status_code == status.HTTP_201_CREATED
    avatar_id = create_response.json()["id"]
    
    # Kimlik doğrulama olmadan silmeyi dene
    delete_response = client.delete(f"/api/v1/avatars/{avatar_id}")
    assert delete_response.status_code == status.HTTP_401_UNAUTHORIZED </pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="avatar-test-7">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_avatar</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_avatar_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_avatar</p>
                        <p><strong>Dosya:</strong> unit\test_avatar_service.py</p>
                        <p><strong>Açıklama:</strong> Avatar oluşturma işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_avatar(test_db: Session, test_user: User):
    """
    Avatar oluşturma işlevini test eder
    """
    avatar_data = AvatarCreate(
        name="test_avatar",
        image_url="http://example.com/avatar.png",
        description="Test avatar description"
    )
    
    avatar = create_avatar(test_db, avatar_data, test_user.id)
    
    # Avatar doğru şekilde oluşturuldu mu?
    assert avatar.name == avatar_data.name
    assert avatar.image_url == str(avatar_data.image_url)
    assert avatar.description == avatar_data.description
    assert avatar.creator_id == test_user.id
    
    # Veritabanından çekip kontrol edelim
    db_avatar = get_avatar_by_id(test_db, avatar.id)
    assert db_avatar is not None
    assert db_avatar.name == avatar_data.name
    assert db_avatar.image_url == str(avatar_data.image_url)
    assert db_avatar.description == avatar_data.description
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="avatar-test-8">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_avatar_by_id</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_avatar_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_avatar_by_id</p>
                        <p><strong>Dosya:</strong> unit\test_avatar_service.py</p>
                        <p><strong>Açıklama:</strong> ID ile avatar getirme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_avatar_by_id(test_db: Session, test_user: User):
    """
    ID ile avatar getirme işlevini test eder
    """
    # Önce bir avatar oluştur
    avatar_data = AvatarCreate(
        name="get_avatar_test",
        image_url="http://example.com/get_avatar.png",
        description="Test avatar retrieval"
    )
    
    created_avatar = create_avatar(test_db, avatar_data, test_user.id)
    
    # ID ile avatarı getir
    avatar = get_avatar_by_id(test_db, created_avatar.id)
    
    # Doğru avatar getirildi mi?
    assert avatar.id == created_avatar.id
    assert avatar.name == avatar_data.name
    assert avatar.image_url == str(avatar_data.image_url)
    assert avatar.description == avatar_data.description
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="avatar-test-9">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_avatar_by_nonexistent_id</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_avatar_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_avatar_by_nonexistent_id</p>
                        <p><strong>Dosya:</strong> unit\test_avatar_service.py</p>
                        <p><strong>Açıklama:</strong> Var olmayan bir ID ile avatar getirmeyi dener ve hatayı doğrular</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_avatar_by_nonexistent_id(test_db: Session):
    """
    Var olmayan bir ID ile avatar getirmeyi dener ve hatayı doğrular
    """
    with pytest.raises(HTTPException) as excinfo:
        get_avatar_by_id(test_db, 9999)  # Var olmayan ID
    
    assert excinfo.value.status_code == 404
    assert "not found" in excinfo.value.detail.lower()
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="avatar-test-10">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_delete_avatar</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_avatar_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_delete_avatar</p>
                        <p><strong>Dosya:</strong> unit\test_avatar_service.py</p>
                        <p><strong>Açıklama:</strong> Avatar silme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_delete_avatar(test_db: Session, test_user: User):
    """
    Avatar silme işlevini test eder
    """
    # Önce bir avatar oluştur
    avatar_data = AvatarCreate(
        name="delete_avatar_test",
        image_url="http://example.com/delete_avatar.png",
        description="Test avatar deletion"
    )
    
    created_avatar = create_avatar(test_db, avatar_data, test_user.id)
    
    # Avatarı sil
    delete_avatar(test_db, created_avatar.id, test_user)
    
    # Avatar silindi mi kontrol et
    with pytest.raises(HTTPException) as excinfo:
        get_avatar_by_id(test_db, created_avatar.id)
    
    assert excinfo.value.status_code == 404
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="avatar-test-11">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_all_avatars</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_avatar_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_all_avatars</p>
                        <p><strong>Dosya:</strong> unit\test_avatar_service.py</p>
                        <p><strong>Açıklama:</strong> Tüm avatarları getirme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_all_avatars(test_db: Session, test_user: User):
    """
    Tüm avatarları getirme işlevini test eder
    """
    # Önce avatarları temizle
    test_db.query(Avatar).delete()
    test_db.commit()
    
    # Birkaç avatar oluştur
    avatar_data1 = AvatarCreate(
        name="avatar1",
        image_url="http://example.com/avatar1.png",
        description="First test avatar"
    )
    
    avatar_data2 = AvatarCreate(
        name="avatar2",
        image_url="http://example.com/avatar2.png",
        description="Second test avatar"
    )
    
    create_avatar(test_db, avatar_data1, test_user.id)
    create_avatar(test_db, avatar_data2, test_user.id)
    
    # Tüm avatarları getir
    avatars = get_all_avatars(test_db)
    
    # En az iki avatar olmalı
    assert len(avatars) >= 2
    
    # Oluşturduğumuz avatarlar listede olmalı (name alanına göre kontrol et)
    assert any(a.name == "avatar1" for a in avatars)
    assert any(a.name == "avatar2" for a in avatars) </pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="avatar-test-12">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_user_avatar</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_user_avatar_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_user_avatar</p>
                        <p><strong>Dosya:</strong> unit\test_user_avatar_service.py</p>
                        <p><strong>Açıklama:</strong> Kullanıcı avatar oluşturma işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_user_avatar(test_db: Session, test_user: User):
    """
    Kullanıcı avatar oluşturma işlevini test eder
    """
    # Önce bir avatar oluştur
    avatar_data = AvatarCreate(
        name="test_user_avatar",
        image_url="http://example.com/avatar.png",
        description="Test avatar description"
    )
    avatar = create_avatar(test_db, avatar_data, test_user.id)
    
    # Kullanıcı avatar oluştur
    user_avatar_data = UserAvatarCreate(
        user_id=test_user.id,
        avatar_id=avatar.id,
        is_active=True
    )
    
    user_avatar = create_user_avatar(test_db, user_avatar_data)
    
    # Kullanıcı avatar doğru şekilde oluşturuldu mu?
    assert user_avatar.user_id == user_avatar_data.user_id
    assert user_avatar.avatar_id == user_avatar_data.avatar_id
    assert user_avatar.is_active == user_avatar_data.is_active
    
    # Veritabanından çekip kontrol edelim
    db_user_avatar = get_user_avatar_by_id(test_db, user_avatar.id)
    assert db_user_avatar is not None
    assert db_user_avatar.user_id == user_avatar_data.user_id
    assert db_user_avatar.avatar_id == user_avatar_data.avatar_id
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="avatar-test-13">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_user_avatar_by_id</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_user_avatar_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_user_avatar_by_id</p>
                        <p><strong>Dosya:</strong> unit\test_user_avatar_service.py</p>
                        <p><strong>Açıklama:</strong> ID ile kullanıcı avatar getirme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_user_avatar_by_id(test_db: Session, test_user: User):
    """
    ID ile kullanıcı avatar getirme işlevini test eder
    """
    # Önce bir avatar oluştur
    avatar_data = AvatarCreate(
        name="get_user_avatar_test",
        image_url="http://example.com/get_avatar.png",
        description="Test user avatar retrieval"
    )
    avatar = create_avatar(test_db, avatar_data, test_user.id)
    
    # Kullanıcı avatar oluştur
    user_avatar_data = UserAvatarCreate(
        user_id=test_user.id,
        avatar_id=avatar.id,
        is_active=True
    )
    
    created_user_avatar = create_user_avatar(test_db, user_avatar_data)
    
    # ID ile kullanıcı avatarı getir
    user_avatar = get_user_avatar_by_id(test_db, created_user_avatar.id)
    
    # Doğru kullanıcı avatar getirildi mi?
    assert user_avatar.id == created_user_avatar.id
    assert user_avatar.user_id == user_avatar_data.user_id
    assert user_avatar.avatar_id == user_avatar_data.avatar_id
    assert user_avatar.is_active == user_avatar_data.is_active
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="avatar-test-14">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_user_avatar_by_nonexistent_id</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_user_avatar_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_user_avatar_by_nonexistent_id</p>
                        <p><strong>Dosya:</strong> unit\test_user_avatar_service.py</p>
                        <p><strong>Açıklama:</strong> Var olmayan bir ID ile kullanıcı avatar getirmeyi dener ve hatayı doğrular</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_user_avatar_by_nonexistent_id(test_db: Session):
    """
    Var olmayan bir ID ile kullanıcı avatar getirmeyi dener ve hatayı doğrular
    """
    with pytest.raises(HTTPException) as excinfo:
        get_user_avatar_by_id(test_db, 9999)  # Var olmayan ID
    
    assert excinfo.value.status_code == 404
    assert "not found" in excinfo.value.detail.lower()
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="avatar-test-15">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_user_avatars_by_user_id</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_user_avatar_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_user_avatars_by_user_id</p>
                        <p><strong>Dosya:</strong> unit\test_user_avatar_service.py</p>
                        <p><strong>Açıklama:</strong> Kullanıcı ID'sine göre kullanıcı avatarlarını getirme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_user_avatars_by_user_id(test_db: Session, test_user: User):
    """
    Kullanıcı ID'sine göre kullanıcı avatarlarını getirme işlevini test eder
    """
    # Yeni bir test kullanıcısı oluştur
    test_user2 = create_user(
        test_db,
        UserCreate(
            email="test2@example.com",
            password="password123",
            full_name="Test User 2",
            date_of_birth=date(2000, 1, 1)
        )
    )
    
    # Önce kullanıcı avatarlarını temizle
    test_db.query(UserAvatar).filter(UserAvatar.user_id == test_user.id).delete()
    test_db.query(UserAvatar).filter(UserAvatar.user_id == test_user2.id).delete()
    test_db.commit()
    
    # İki farklı avatar oluştur
    avatar_data1 = AvatarCreate(
        name="user_avatar1",
        image_url="http://example.com/avatar1.png",
        description="First test user avatar"
    )
    
    avatar_data2 = AvatarCreate(
        name="user_avatar2",
        image_url="http://example.com/avatar2.png",
        description="Second test user avatar"
    )
    
    avatar1 = create_avatar(test_db, avatar_data1, test_user.id)
    avatar2 = create_avatar(test_db, avatar_data2, test_user.id)
    
    # İki farklı kullanıcı için avatar oluştur
    user_avatar_data1 = UserAvatarCreate(
        user_id=test_user.id,
        avatar_id=avatar1.id,
        is_active=True
    )
    
    user_avatar_data2 = UserAvatarCreate(
        user_id=test_user2.id,
        avatar_id=avatar2.id,
        is_active=False
    )
    
    create_user_avatar(test_db, user_avatar_data1)
    create_user_avatar(test_db, user_avatar_data2)
    
    # Birinci kullanıcının avatarlarını getir
    user_avatars = get_user_avatars_by_user_id(test_db, test_user.id)
    
    # Kullanıcının bir avatarı olmalı
    assert len(user_avatars) == 1
    
    # Oluşturduğumuz avatar listede olmalı
    avatar_ids = [ua.avatar_id for ua in user_avatars]
    assert avatar1.id in avatar_ids
    assert avatar2.id not in avatar_ids  # Bu başka kullanıcıya ait olmalı
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="avatar-test-16">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_update_user_avatar</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_user_avatar_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_update_user_avatar</p>
                        <p><strong>Dosya:</strong> unit\test_user_avatar_service.py</p>
                        <p><strong>Açıklama:</strong> Kullanıcı avatar güncelleme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_update_user_avatar(test_db: Session, test_user: User):
    """
    Kullanıcı avatar güncelleme işlevini test eder
    """
    # Önce bir avatar oluştur
    avatar_data = AvatarCreate(
        name="update_user_avatar_test",
        image_url="http://example.com/update_avatar.png",
        description="Test user avatar update"
    )
    avatar = create_avatar(test_db, avatar_data, test_user.id)
    
    # Kullanıcı avatar oluştur
    user_avatar_data = UserAvatarCreate(
        user_id=test_user.id,
        avatar_id=avatar.id,
        is_active=False
    )
    
    created_user_avatar = create_user_avatar(test_db, user_avatar_data)
    
    # Kullanıcı avatarı güncelle
    update_data = UserAvatarUpdate(is_active=True)
    updated_user_avatar = update_user_avatar(test_db, created_user_avatar.id, update_data)
    
    # Güncelleme başarılı mı?
    assert updated_user_avatar.is_active == True
    
    # Veritabanından çekip kontrol edelim
    db_user_avatar = get_user_avatar_by_id(test_db, created_user_avatar.id)
    assert db_user_avatar.is_active == True
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="avatar-test-17">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_delete_user_avatar</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_user_avatar_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_delete_user_avatar</p>
                        <p><strong>Dosya:</strong> unit\test_user_avatar_service.py</p>
                        <p><strong>Açıklama:</strong> Kullanıcı avatar silme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_delete_user_avatar(test_db: Session, test_user: User):
    """
    Kullanıcı avatar silme işlevini test eder
    """
    # Önce bir avatar oluştur
    avatar_data = AvatarCreate(
        name="delete_user_avatar_test",
        image_url="http://example.com/delete_avatar.png",
        description="Test user avatar deletion"
    )
    avatar = create_avatar(test_db, avatar_data, test_user.id)
    
    # Kullanıcı avatar oluştur
    user_avatar_data = UserAvatarCreate(
        user_id=test_user.id,
        avatar_id=avatar.id,
        is_active=True
    )
    
    created_user_avatar = create_user_avatar(test_db, user_avatar_data)
    user_avatar_id = created_user_avatar.id
    
    # Kullanıcı avatarı sil
    delete_user_avatar(test_db, user_avatar_id)
    
    # Silme başarılı mı?
    with pytest.raises(HTTPException) as excinfo:
        get_user_avatar_by_id(test_db, user_avatar_id)
    
    assert excinfo.value.status_code == 404 </pre>
                    </div>
                    
                </div>
            </div>
            
            </div>
            <div class="test-category" id="badge-category">
                
        <div class="category-summary">
            <h3><i class="fas fa-award"></i> Rozet Servisi Testleri</h3>
            <div class="category-stats">
                <span class="stat-item">Toplam: 17</span>
                <span class="stat-item status-success">Başarılı: 17</span>
                <span class="stat-item status-failed">Başarısız: 0</span>
                <span class="stat-item status-skipped">Atlanan: 0</span>
            </div>
        </div>
        
                
            <div class="test-item" id="badge-test-0">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_badge_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_badge_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_badge_route</p>
                        <p><strong>Dosya:</strong> integration\test_badge_routes.py</p>
                        <p><strong>Açıklama:</strong> Rozet oluşturma endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_badge_route(client: TestClient, auth_headers):
    """
    Rozet oluşturma endpoint'ini test eder
    """
    badge_data = {
        "name": "test_route_badge",
        "icon_url": "http://example.com/route_badge.png",
        "description": "Test badge creation via API",
        "criteria": "Earn 100 points"
    }
    
    response = client.post("/api/v1/badges", json=badge_data, headers=auth_headers)
    
    assert response.status_code == status.HTTP_201_CREATED
    data = response.json()
    assert data["name"] == badge_data["name"]
    assert data["icon_url"] == badge_data["icon_url"]
    assert data["description"] == badge_data["description"]
    assert "id" in data
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="badge-test-1">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_badge_unauthorized</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_badge_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_badge_unauthorized</p>
                        <p><strong>Dosya:</strong> integration\test_badge_routes.py</p>
                        <p><strong>Açıklama:</strong> Kimlik doğrulama olmadan rozet oluşturmayı dener</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_badge_unauthorized(client: TestClient):
    """
    Kimlik doğrulama olmadan rozet oluşturmayı dener
    """
    badge_data = {
        "name": "unauthorized_badge",
        "icon_url": "http://example.com/unauthorized_badge.png",
        "description": "Should not be created",
        "criteria": "Should not be created"
    }
    
    response = client.post("/api/v1/badges", json=badge_data)
    
    assert response.status_code == status.HTTP_401_UNAUTHORIZED
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="badge-test-2">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_all_badges_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_badge_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_all_badges_route</p>
                        <p><strong>Dosya:</strong> integration\test_badge_routes.py</p>
                        <p><strong>Açıklama:</strong> Tüm rozetleri getirme endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_all_badges_route(client: TestClient, auth_headers):
    """
    Tüm rozetleri getirme endpoint'ini test eder
    """
    # Önce birkaç rozet oluştur
    badge_data1 = {
        "name": "all_badges_test1",
        "icon_url": "http://example.com/all_badges1.png",
        "description": "Test badge 1 for get all endpoint",
        "criteria": "Earn 50 points"
    }
    
    badge_data2 = {
        "name": "all_badges_test2",
        "icon_url": "http://example.com/all_badges2.png",
        "description": "Test badge 2 for get all endpoint",
        "criteria": "Complete 5 tasks"
    }
    
    client.post("/api/v1/badges", json=badge_data1, headers=auth_headers)
    client.post("/api/v1/badges", json=badge_data2, headers=auth_headers)
    
    # Tüm rozetleri getir
    response = client.get("/api/v1/badges")
    
    assert response.status_code == status.HTTP_200_OK
    data = response.json()
    assert isinstance(data, list)
    
    # Oluşturduğumuz rozetler listede olmalı
    badge_names = [badge["name"] for badge in data]
    assert "all_badges_test1" in badge_names
    assert "all_badges_test2" in badge_names
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="badge-test-3">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_update_badge_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_badge_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_update_badge_route</p>
                        <p><strong>Dosya:</strong> integration\test_badge_routes.py</p>
                        <p><strong>Açıklama:</strong> Rozet güncelleme endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_update_badge_route(client: TestClient, auth_headers):
    """
    Rozet güncelleme endpoint'ini test eder
    """
    # Önce bir rozet oluştur
    badge_data = {
        "name": "update_route_badge",
        "icon_url": "http://example.com/update_route_badge.png",
        "description": "Test badge update via API",
        "criteria": "Original criteria"
    }
    
    create_response = client.post("/api/v1/badges", json=badge_data, headers=auth_headers)
    assert create_response.status_code == status.HTTP_201_CREATED
    badge_id = create_response.json()["id"]
    
    # Rozeti güncelle
    update_data = {
        "description": "Updated description",
        "criteria": "Updated criteria"
    }
    
    update_response = client.put(f"/api/v1/badges/{badge_id}", json=update_data, headers=auth_headers)
    assert update_response.status_code == status.HTTP_200_OK
    
    updated_badge = update_response.json()
    assert updated_badge["id"] == badge_id
    assert updated_badge["name"] == badge_data["name"]  # Değişmemeli
    assert updated_badge["description"] == update_data["description"]  # Güncellenmeli
    assert updated_badge["criteria"] == update_data["criteria"]  # Güncellenmeli
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="badge-test-4">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_delete_badge_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_badge_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_delete_badge_route</p>
                        <p><strong>Dosya:</strong> integration\test_badge_routes.py</p>
                        <p><strong>Açıklama:</strong> Rozet silme endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_delete_badge_route(client: TestClient, auth_headers):
    """
    Rozet silme endpoint'ini test eder
    """
    # Önce bir rozet oluştur
    badge_data = {
        "name": "delete_route_badge",
        "icon_url": "http://example.com/delete_route_badge.png",
        "description": "Test badge deletion via API",
        "criteria": "Test criteria"
    }
    
    create_response = client.post("/api/v1/badges", json=badge_data, headers=auth_headers)
    assert create_response.status_code == status.HTTP_201_CREATED
    badge_id = create_response.json()["id"]
    
    # Rozeti sil
    delete_response = client.delete(f"/api/v1/badges/{badge_id}", headers=auth_headers)
    assert delete_response.status_code == status.HTTP_204_NO_CONTENT
    
    # Rozet silindi mi kontrol et
    get_response = client.get("/api/v1/badges")
    badge_ids = [badge["id"] for badge in get_response.json()]
    assert badge_id not in badge_ids
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="badge-test-5">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_delete_badge_unauthorized</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_badge_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_delete_badge_unauthorized</p>
                        <p><strong>Dosya:</strong> integration\test_badge_routes.py</p>
                        <p><strong>Açıklama:</strong> Kimlik doğrulama olmadan rozet silmeyi dener</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_delete_badge_unauthorized(client: TestClient, auth_headers):
    """
    Kimlik doğrulama olmadan rozet silmeyi dener
    """
    # Önce bir rozet oluştur
    badge_data = {
        "name": "unauth_delete_badge",
        "icon_url": "http://example.com/unauth_delete_badge.png",
        "description": "Test unauthorized badge deletion",
        "criteria": "Test criteria"
    }
    
    create_response = client.post("/api/v1/badges", json=badge_data, headers=auth_headers)
    assert create_response.status_code == status.HTTP_201_CREATED
    badge_id = create_response.json()["id"]
    
    # Kimlik doğrulama olmadan silmeyi dene
    delete_response = client.delete(f"/api/v1/badges/{badge_id}")
    assert delete_response.status_code == status.HTTP_401_UNAUTHORIZED </pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="badge-test-6">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_assign_badge_to_user_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_user_badge_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_assign_badge_to_user_route</p>
                        <p><strong>Dosya:</strong> integration\test_user_badge_routes.py</p>
                        <p><strong>Açıklama:</strong> Kullanıcıya rozet atama endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_assign_badge_to_user_route(client: TestClient, auth_headers, test_user_id):
    """
    Kullanıcıya rozet atama endpoint'ini test eder
    """
    # Önce bir rozet oluştur
    badge_data = {
        "name": "test_user_badge_route",
        "icon_url": "http://example.com/user_badge_route.png",
        "description": "Test user badge assignment via API",
        "criteria": "Earn 100 points"
    }
    
    badge_response = client.post("/api/v1/badges", json=badge_data, headers=auth_headers)
    assert badge_response.status_code == status.HTTP_201_CREATED
    badge_id = badge_response.json()["id"]
    
    # Kullanıcıya rozet ata
    user_badge_data = {
        "badge_id": badge_id
    }
    
    response = client.post("/api/v1/user_badges", json=user_badge_data, headers=auth_headers)
    
    assert response.status_code == status.HTTP_201_CREATED
    data = response.json()
    assert data["badge_id"] == badge_id
    assert data["user_id"] == test_user_id
    assert "id" in data
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="badge-test-7">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_assign_badge_to_user_unauthorized</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_user_badge_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_assign_badge_to_user_unauthorized</p>
                        <p><strong>Dosya:</strong> integration\test_user_badge_routes.py</p>
                        <p><strong>Açıklama:</strong> Kimlik doğrulama olmadan kullanıcıya rozet atamayı dener</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_assign_badge_to_user_unauthorized(client: TestClient):
    """
    Kimlik doğrulama olmadan kullanıcıya rozet atamayı dener
    """
    user_badge_data = {
        "badge_id": 1  # Herhangi bir rozet ID'si
    }
    
    response = client.post("/api/v1/user_badges", json=user_badge_data)
    
    assert response.status_code == status.HTTP_401_UNAUTHORIZED
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="badge-test-8">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_user_badges_route</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_user_badge_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_user_badges_route</p>
                        <p><strong>Dosya:</strong> integration\test_user_badge_routes.py</p>
                        <p><strong>Açıklama:</strong> Kullanıcının rozetlerini getirme endpoint'ini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_user_badges_route(client: TestClient, auth_headers, test_user_id):
    """
    Kullanıcının rozetlerini getirme endpoint'ini test eder
    """
    # Önce bir rozet oluştur ve kullanıcıya ata
    badge_data = {
        "name": "get_user_badges_test",
        "icon_url": "http://example.com/get_user_badges.png",
        "description": "Test getting user badges via API",
        "criteria": "Complete 10 tasks"
    }
    
    badge_response = client.post("/api/v1/badges", json=badge_data, headers=auth_headers)
    assert badge_response.status_code == status.HTTP_201_CREATED
    badge_id = badge_response.json()["id"]
    
    # Kullanıcıya rozet ata
    user_badge_data = {
        "badge_id": badge_id
    }
    
    client.post("/api/v1/user_badges", json=user_badge_data, headers=auth_headers)
    
    # Kullanıcının rozetlerini getir
    response = client.get(f"/api/v1/user_badges/{test_user_id}")
    
    assert response.status_code == status.HTTP_200_OK
    data = response.json()
    
    # En az bir rozet olmalı
    assert len(data) >= 1
    
    # Atadığımız rozet kullanıcının rozetleri arasında olmalı
    badge_ids = [user_badge["badge_id"] for user_badge in data]
    assert badge_id in badge_ids
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="badge-test-9">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_nonexistent_user_badges</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> integration\test_user_badge_routes.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_nonexistent_user_badges</p>
                        <p><strong>Dosya:</strong> integration\test_user_badge_routes.py</p>
                        <p><strong>Açıklama:</strong> Var olmayan bir kullanıcının rozetlerini getirmeyi dener</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_nonexistent_user_badges(client: TestClient):
    """
    Var olmayan bir kullanıcının rozetlerini getirmeyi dener
    """
    response = client.get("/api/v1/user_badges/9999")  # Var olmayan kullanıcı ID'si
    
    # Kullanıcı olmadığında boş liste döndürebilir veya hata döndürebilir
    if response.status_code == status.HTTP_200_OK:
        assert response.json() == []
    else:
        assert response.status_code == status.HTTP_404_NOT_FOUND </pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="badge-test-10">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_badge</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_badge_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_badge</p>
                        <p><strong>Dosya:</strong> unit\test_badge_service.py</p>
                        <p><strong>Açıklama:</strong> Rozet oluşturma işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_badge(test_db: Session, test_user: User):
    """
    Rozet oluşturma işlevini test eder
    """
    badge_data = BadgeCreate(
        name="test_badge",
        icon_url="http://example.com/badge.png",
        description="Test badge description",
        criteria="Test criteria for earning this badge"
    )
    
    badge = create_badge(test_db, badge_data, test_user)
    
    # Rozet doğru şekilde oluşturuldu mu?
    assert badge.name == badge_data.name
    assert badge.icon_url == str(badge_data.icon_url) if badge_data.icon_url else None
    assert badge.description == badge_data.description
    assert badge.criteria == badge_data.criteria
    assert badge.creator_id == test_user.id
    
    # Veritabanından çekip kontrol edelim
    db_badge = get_badge_by_id(test_db, badge.id)
    assert db_badge is not None
    assert db_badge.name == badge_data.name
    assert db_badge.icon_url == str(badge_data.icon_url) if badge_data.icon_url else None
    assert db_badge.description == badge_data.description
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="badge-test-11">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_badge_by_id</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_badge_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_badge_by_id</p>
                        <p><strong>Dosya:</strong> unit\test_badge_service.py</p>
                        <p><strong>Açıklama:</strong> ID ile rozet getirme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_badge_by_id(test_db: Session, test_user: User):
    """
    ID ile rozet getirme işlevini test eder
    """
    # Önce bir rozet oluştur
    badge_data = BadgeCreate(
        name="get_badge_test",
        icon_url="http://example.com/get_badge.png",
        description="Test badge retrieval",
        criteria="Test criteria for this badge"
    )
    
    created_badge = create_badge(test_db, badge_data, test_user)
    
    # ID ile rozeti getir
    badge = get_badge_by_id(test_db, created_badge.id)
    
    # Doğru rozet getirildi mi?
    assert badge.id == created_badge.id
    assert badge.name == badge_data.name
    assert badge.icon_url == str(badge_data.icon_url) if badge_data.icon_url else None
    assert badge.description == badge_data.description
    assert badge.criteria == badge_data.criteria
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="badge-test-12">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_badge_by_nonexistent_id</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_badge_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_badge_by_nonexistent_id</p>
                        <p><strong>Dosya:</strong> unit\test_badge_service.py</p>
                        <p><strong>Açıklama:</strong> Var olmayan bir ID ile rozet getirmeyi dener ve hatayı doğrular</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_badge_by_nonexistent_id(test_db: Session):
    """
    Var olmayan bir ID ile rozet getirmeyi dener ve hatayı doğrular
    """
    with pytest.raises(HTTPException) as excinfo:
        get_badge_by_id(test_db, 9999)  # Var olmayan ID
    
    assert excinfo.value.status_code == 404
    assert "not found" in excinfo.value.detail.lower()
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="badge-test-13">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_update_badge</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_badge_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_update_badge</p>
                        <p><strong>Dosya:</strong> unit\test_badge_service.py</p>
                        <p><strong>Açıklama:</strong> Rozet güncelleme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_update_badge(test_db: Session, test_user: User):
    """
    Rozet güncelleme işlevini test eder
    """
    # Önce bir rozet oluştur
    badge_data = BadgeCreate(
        name="update_badge_test",
        icon_url="http://example.com/update_badge.png",
        description="Original description",
        criteria="Original criteria"
    )
    
    created_badge = create_badge(test_db, badge_data, test_user)
    
    # Rozeti güncelle
    update_data = BadgeUpdate(
        description="Updated description",
        criteria="Updated criteria"
    )
    
    updated_badge = update_badge(test_db, created_badge.id, update_data, test_user)
    
    # Rozet doğru şekilde güncellendi mi?
    assert updated_badge.name == badge_data.name  # Değişmemeli
    assert updated_badge.icon_url == str(badge_data.icon_url) if badge_data.icon_url else None  # Değişmemeli
    assert updated_badge.description == update_data.description  # Güncellenmiş olmalı
    assert updated_badge.criteria == update_data.criteria  # Güncellenmiş olmalı
    
    # Veritabanından çekip kontrol edelim
    db_badge = get_badge_by_id(test_db, created_badge.id)
    assert db_badge.description == update_data.description
    assert db_badge.criteria == update_data.criteria
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="badge-test-14">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_delete_badge</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_badge_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_delete_badge</p>
                        <p><strong>Dosya:</strong> unit\test_badge_service.py</p>
                        <p><strong>Açıklama:</strong> Rozet silme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_delete_badge(test_db: Session, test_user: User):
    """
    Rozet silme işlevini test eder
    """
    # Önce bir rozet oluştur
    badge_data = BadgeCreate(
        name="delete_badge_test",
        icon_url="http://example.com/delete_badge.png",
        description="Test badge deletion",
        criteria="Test criteria for delete badge"
    )
    
    created_badge = create_badge(test_db, badge_data, test_user)
    badge_id = created_badge.id
    
    # Rozeti sil
    delete_badge(test_db, badge_id, test_user)
    
    # Rozet silindi mi kontrol et
    with pytest.raises(HTTPException) as excinfo:
        get_badge_by_id(test_db, badge_id)
    
    assert excinfo.value.status_code == 404
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="badge-test-15">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_assign_badge_to_user</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_badge_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_assign_badge_to_user</p>
                        <p><strong>Dosya:</strong> unit\test_badge_service.py</p>
                        <p><strong>Açıklama:</strong> Kullanıcıya rozet atama işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_assign_badge_to_user(test_db: Session, test_user: User):
    """
    Kullanıcıya rozet atama işlevini test eder
    """
    # Önce bir rozet oluştur
    badge_data = BadgeCreate(
        name="assign_badge_test",
        icon_url="http://example.com/assign_badge.png",
        description="Test badge assignment",
        criteria="Test criteria for assign badge"
    )
    
    badge = create_badge(test_db, badge_data, test_user)
    
    # Rozeti kullanıcıya ata
    user_badge = assign_badge_to_user(test_db, badge.id, test_user.id)
    
    # Rozet doğru şekilde atandı mı?
    assert user_badge.user_id == test_user.id
    assert user_badge.badge_id == badge.id
    
    # Kullanıcının rozetlerini getirip kontrol edelim
    user_badges = get_user_badges(test_db, test_user.id)
    assert any(ub.badge_id == badge.id for ub in user_badges)
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="badge-test-16">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_user_badges</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_badge_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_user_badges</p>
                        <p><strong>Dosya:</strong> unit\test_badge_service.py</p>
                        <p><strong>Açıklama:</strong> Kullanıcının rozetlerini getirme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_user_badges(test_db: Session, test_user: User):
    """
    Kullanıcının rozetlerini getirme işlevini test eder
    """
    # Önce kullanıcının rozetlerini temizle
    test_db.query(UserBadge).filter(UserBadge.user_id == test_user.id).delete()
    test_db.commit()
    
    # İki farklı rozet oluştur
    badge_data1 = BadgeCreate(
        name="user_badge1",
        icon_url="http://example.com/user_badge1.png",
        description="First test user badge",
        criteria="First test criteria"
    )
    
    badge_data2 = BadgeCreate(
        name="user_badge2",
        icon_url="http://example.com/user_badge2.png",
        description="Second test user badge",
        criteria="Second test criteria"
    )
    
    badge1 = create_badge(test_db, badge_data1, test_user)
    badge2 = create_badge(test_db, badge_data2, test_user)
    
    # Rozetleri kullanıcıya ata
    assign_badge_to_user(test_db, badge1.id, test_user.id)
    assign_badge_to_user(test_db, badge2.id, test_user.id)
    
    # Kullanıcının rozetlerini getir
    user_badges = get_user_badges(test_db, test_user.id)
    
    # Kullanıcının en az iki rozeti olmalı
    assert len(user_badges) >= 2
    
    # Oluşturduğumuz rozetler listede olmalı
    badge_ids = [ub.badge_id for ub in user_badges]
    assert badge1.id in badge_ids
    assert badge2.id in badge_ids </pre>
                    </div>
                    
                </div>
            </div>
            
            </div>
            <div class="test-category" id="flight-category">
                
        <div class="category-summary">
            <h3><i class="fas fa-plane"></i> Uçuş Servisi Testleri</h3>
            <div class="category-stats">
                <span class="stat-item">Toplam: 2</span>
                <span class="stat-item status-success">Başarılı: 2</span>
                <span class="stat-item status-failed">Başarısız: 0</span>
                <span class="stat-item status-skipped">Atlanan: 0</span>
            </div>
        </div>
        
                
            <div class="test-item" id="flight-test-0">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_create_flight</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_flight_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_create_flight</p>
                        <p><strong>Dosya:</strong> unit\test_flight_service.py</p>
                        <p><strong>Açıklama:</strong> Uçuş rotası oluşturma işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_create_flight(test_db: Session, test_user: User):
    """
    Uçuş rotası oluşturma işlevini test eder
    """
    flight_data = FlightCreate(
        title="Test Uçuş Rotası",
        description="Bu bir test uçuş rotası açıklamasıdır"
    )
    
    # Orijinal verileri sakla
    original_title = flight_data.title
    original_description = flight_data.description
    
    # Uçuş oluştur
    flight = create_flight(test_db, flight_data)
    
    # Uçuş doğru şekilde oluşturuldu mu?
    assert flight.id is not None
    # Not: create_flight verileri şifreli olarak döndürür, o yüzden karşılaştırmak için deşifre edilmeli
    assert encryption_service.decrypt(flight.title) == original_title
    if flight.description:
        assert encryption_service.decrypt(flight.description) == original_description
    
    # Veritabanından tüm uçuşları çekip kontrol edelim
    db_flights = get_all_flights(test_db)
    assert len(db_flights) >= 1
    
    # Oluşturduğumuz uçuş listede olmalı
    created_flight = next((f for f in db_flights if f.id == flight.id), None)
    assert created_flight is not None
    assert created_flight.title == original_title  # get_all_flights verileri deşifre eder
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="flight-test-1">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_get_all_flights</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_flight_service.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_get_all_flights</p>
                        <p><strong>Dosya:</strong> unit\test_flight_service.py</p>
                        <p><strong>Açıklama:</strong> Tüm uçuşları getirme işlevini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_get_all_flights(test_db: Session):
    """
    Tüm uçuşları getirme işlevini test eder
    """
    # Önce veritabanını temizle
    test_db.query(Flight).delete()
    test_db.commit()
    
    # Birkaç uçuş oluştur
    flight_data1 = FlightCreate(
        title="Birinci Test Uçuşu",
        description="Birinci test uçuşu açıklaması"
    )
    
    flight_data2 = FlightCreate(
        title="İkinci Test Uçuşu",
        description="İkinci test uçuşu açıklaması"
    )
    
    create_flight(test_db, flight_data1)
    create_flight(test_db, flight_data2)
    
    # Tüm uçuşları getir
    flights = get_all_flights(test_db)
    
    # En az iki uçuş olmalı
    assert len(flights) >= 2
    
    # Oluşturduğumuz uçuşlar listede olmalı (başlık alanına göre kontrol et)
    assert any(f.title == "Birinci Test Uçuşu" for f in flights)
    assert any(f.title == "İkinci Test Uçuşu" for f in flights) </pre>
                    </div>
                    
                </div>
            </div>
            
            </div>
            <div class="test-category" id="failures-category">
                
        <div class="category-summary">
            <h3><i class="fas fa-bug"></i> Test Hata Senaryoları</h3>
            <div class="category-stats">
                <span class="stat-item">Toplam: 4</span>
                <span class="stat-item status-success">Başarılı: 4</span>
                <span class="stat-item status-failed">Başarısız: 0</span>
                <span class="stat-item status-skipped">Atlanan: 0</span>
            </div>
        </div>
        
                
            <div class="test-item" id="failures-test-0">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_intentional_failure</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_failures.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_intentional_failure</p>
                        <p><strong>Dosya:</strong> unit\test_failures.py</p>
                        <p><strong>Açıklama:</strong> Bu test, gösterge panosunda başarısız test görünümünü göstermek için kasıtlı olarak başarısız olur.</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_intentional_failure():
    """Bu test, gösterge panosunda başarısız test görünümünü göstermek için kasıtlı olarak başarısız olur."""
    assert False, "Bu test kasıtlı olarak başarısız oldu"
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="failures-test-1">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_expected_vs_actual</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_failures.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_expected_vs_actual</p>
                        <p><strong>Dosya:</strong> unit\test_failures.py</p>
                        <p><strong>Açıklama:</strong> Beklenen ve gerçek değerlerin karşılaştırılmasını gösteren başarısız test.</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_expected_vs_actual():
    """Beklenen ve gerçek değerlerin karşılaştırılmasını gösteren başarısız test."""
    expected = "beklenen değer"
    actual = "gerçek değer"
    assert expected == actual, f"Beklenen: {expected}, Gerçek: {actual}"
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="failures-test-2">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_exception_raised</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_failures.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_exception_raised</p>
                        <p><strong>Dosya:</strong> unit\test_failures.py</p>
                        <p><strong>Açıklama:</strong> Beklenmeyen bir istisnanın fırlatıldığı başarısız test.</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_exception_raised():
    """Beklenmeyen bir istisnanın fırlatıldığı başarısız test."""
    def function_that_raises():
        raise ValueError("Bu bir hata mesajıdır")
    
    function_that_raises()
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="failures-test-3">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_skipped</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> unit\test_failures.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_skipped</p>
                        <p><strong>Dosya:</strong> unit\test_failures.py</p>
                        <p><strong>Açıklama:</strong> Bu test atlanacak ve raporlarda ayrı bir kategori olarak gösterilecek.</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_skipped():
    """Bu test atlanacak ve raporlarda ayrı bir kategori olarak gösterilecek."""
    assert True </pre>
                    </div>
                    
                </div>
            </div>
            
            </div>
            <div class="test-category" id="db-category">
                
        <div class="category-summary">
            <h3><i class="fas fa-database"></i> Veritabanı Model Testleri</h3>
            <div class="category-stats">
                <span class="stat-item">Toplam: 3</span>
                <span class="stat-item status-success">Başarılı: 3</span>
                <span class="stat-item status-failed">Başarısız: 0</span>
                <span class="stat-item status-skipped">Atlanan: 0</span>
            </div>
        </div>
        
                
            <div class="test-item" id="db-test-0">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_user_model_create</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> db\test_user_model.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_user_model_create</p>
                        <p><strong>Dosya:</strong> db\test_user_model.py</p>
                        <p><strong>Açıklama:</strong> User modelinin oluşturulmasını test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_user_model_create(test_db: Session):
    """
    User modelinin oluşturulmasını test eder
    """
    # Yeni bir kullanıcı oluştur
    user = User(
        email="testuser@example.com",
        full_name="Test User",
        date_of_birth=date(2000, 1, 1),
        hashed_password="hashed_password_string",
        is_active=True,
        is_superuser=False
    )
    
    test_db.add(user)
    test_db.commit()
    test_db.refresh(user)
    
    # ID atanmış olmalı
    assert user.id is not None
    
    # Veritabanından kullanıcıyı çekip kontrol et
    db_user = test_db.query(User).filter(User.id == user.id).first()
    assert db_user is not None
    assert db_user.email == "testuser@example.com"
    assert db_user.full_name == "Test User"
    assert db_user.date_of_birth == date(2000, 1, 1)
    assert db_user.hashed_password == "hashed_password_string"
    assert db_user.is_active is True
    assert db_user.is_superuser is False
    
    # created_at ve updated_at alanları doldurulmuş olmalı
    assert isinstance(db_user.created_at, datetime)
    assert isinstance(db_user.updated_at, datetime)
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="db-test-1">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_user_model_update</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> db\test_user_model.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_user_model_update</p>
                        <p><strong>Dosya:</strong> db\test_user_model.py</p>
                        <p><strong>Açıklama:</strong> User modelinin güncellenmesini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_user_model_update(test_db: Session):
    """
    User modelinin güncellenmesini test eder
    """
    # Önce bir kullanıcı oluştur
    user = User(
        email="updateuser@example.com",
        full_name="Update Test User",
        date_of_birth=date(2000, 1, 1),
        hashed_password="original_password_hash",
        is_active=True,
        is_superuser=False
    )
    
    test_db.add(user)
    test_db.commit()
    test_db.refresh(user)
    
    # Güncelleme öncesi zaman
    original_updated_at = user.updated_at
    
    # Kullanıcıyı güncelle
    user.full_name = "Updated Name"
    user.hashed_password = "new_password_hash"
    
    test_db.add(user)
    test_db.commit()
    test_db.refresh(user)
    
    # Değişiklikleri kontrol et
    assert user.full_name == "Updated Name"
    assert user.hashed_password == "new_password_hash"
    
    # updated_at alanı güncellenmiş olmalı (SQLite test DB kullandığımızdan burada çalışmayabilir)
    # assert user.updated_at > original_updated_at
</pre>
                    </div>
                    
                </div>
            </div>
            

            <div class="test-item" id="db-test-2">
                <span class="status-success"><i class="fas fa-check-circle"></i></span>
                <span style="margin-left:10px;font-weight:500;">test_user_model_delete</span>
                <div class="test-details">
                    <span><i class="fas fa-file-code"></i> db\test_user_model.py</span>
                    <span style="margin-left:20px;"><i class="fas fa-clock"></i> 0.0s</span>
                </div>
                <div class="test-content">
                    <div class="test-info">
                        <p><strong>Test Adı:</strong> test_user_model_delete</p>
                        <p><strong>Dosya:</strong> db\test_user_model.py</p>
                        <p><strong>Açıklama:</strong> User modelinin silinmesini test eder</p>
                        <p><strong>Durum:</strong> Passed</p>
                        <p><strong>Çalışma Süresi:</strong> 0.0s</p>
                    </div>
                    <div class="test-stack">
                        <pre>def test_user_model_delete(test_db: Session):
    """
    User modelinin silinmesini test eder
    """
    # Önce bir kullanıcı oluştur
    user = User(
        email="deleteuser@example.com",
        full_name="Delete Test User",
        date_of_birth=date(2000, 1, 1),
        hashed_password="password_hash",
        is_active=True,
        is_superuser=False
    )
    
    test_db.add(user)
    test_db.commit()
    test_db.refresh(user)
    
    user_id = user.id
    
    # Kullanıcıyı sil
    test_db.delete(user)
    test_db.commit()
    
    # Kullanıcının artık veritabanında olmaması gerekiyor
    deleted_user = test_db.query(User).filter(User.id == user_id).first()
    assert deleted_user is None </pre>
                    </div>
                    
                </div>
            </div>
            
            </div>
        </section>
    </div>
    <script src="dashboard.js"></script>
</body>
</html> 